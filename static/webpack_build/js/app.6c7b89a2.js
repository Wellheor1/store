(function(){"use strict";var t={1474:function(t,e,a){var r=a(144),l=a(998),s=function(){var t=this,e=t._self._c;return e(l.Z,[e("Navbar")],1)},i=[],o=a(6232),d=a(5550),n=a(6312),c=a(6190),u=a(4324),p=a(5808),m=a(4525),f=a(60),h=a(4611),v=a(3059),g=a(9709),b=a(3687),Z=a(7953),C=function(){var t=this,e=t._self._c;return e("div",[e(g.Z,{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(p.Z,t._l(t.links,(function(a,r){return e(m.Z,{key:r,attrs:{to:a.url}},[e(h.Z,[e(u.Z,[t._v(t._s(a.icon))])],1),e(f.km,[e(f.V9,{domProps:{textContent:t._s(a.title)}})],1)],1)})),1)],1),e(o.Z,{attrs:{app:"",dark:"",color:"primary"}},[e(d.Z,{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),e(n.Z,[e("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v('ИС "Магазин"')])],1),e(b.Z),e(Z.lj,{staticClass:"hidden-sm-and-down",attrs:{app:""}},t._l(t.links,(function(a,r){return e(c.Z,{key:r,attrs:{depressed:"",color:"primary",to:a.url}},[e(u.Z,{attrs:{left:""}},[t._v(t._s(a.icon))]),t._v(" "+t._s(a.title)+" ")],1)})),1)],1),e(v.Z,[e("router-view")],1)],1)},x=[],_={name:"Nav-bar",data(){return{drawer:null,links:[{title:"Вход",icon:"mdi-account-box",url:"/login"},{title:"Заказы",icon:"mdi-cart",url:"/orders"},{title:"Клиенты",icon:"mdi-account",url:"/clients"},{title:"Товары",icon:"mdi-format-list-bulleted",url:"/products"}]}}},k=_,P=a(1001),w=(0,P.Z)(k,C,x,!1,null,"24019baa",null),y=w.exports,I={components:{Navbar:y}},O=I,N=(0,P.Z)(O,s,i,!1,null,null,null),E=N.exports,D=a(8345),A=a(9582),$=a(4886),S=a(6475),R=a(6760),j=a(9256),B=a(1267),q=a(5495),T=a(3201),V=function(){var t=this,e=t._self._c;return e("div",[e(j.Z,{attrs:{fluid:""}},[e(T.Z,{attrs:{row:""}},[e(B.Z,[e(S.Z,t._l(t.promoProducts,(function(t,a){return e(R.Z,{key:a,attrs:{src:t.imageSrc}})})),1)],1)],1)],1),e(j.Z,{attrs:{"grid-list-lg":""}},[e(T.Z,{attrs:{wrap:""}},t._l(t.products,(function(a,r){return e(B.Z,{key:r,attrs:{xs12:"",sm6:"",md4:""}},[e("router-link",{attrs:{"aria-label":a.title,to:"/product/"+a.id}},[e(q.Z,{attrs:{height:"350",src:a.imageSrc}})],1),e(A.Z,[e($.EB,{attrs:{"primary-title":""}},[e("div",[e("h3",{staticClass:"card_heading heading"},[t._v(t._s(a.title))]),e("div",{staticClass:"card_describe"},[e("p",{staticClass:"subheading"},[t._v(t._s(a.description.substring(0,60)))]),e("p",{staticClass:"subheading card_price"},[e("span",{staticClass:"title"},[t._v("Price: ")]),t._v("$"+t._s(a.price))])])])]),e($.h7,[e(b.Z),e(c.Z,{attrs:{dark:"",color:"light-blue darken4",rounded:"",outlined:"",to:"/product/"+a.id}},[t._v("Description")]),e(c.Z,{attrs:{dark:"",color:"light-blue darken4",rounded:""}},[t._v("Add to card")])],1)],1)],1)})),1)],1)],1)},M=[],z={computed:{promoProducts(t){return this.$store.getters.promoProducts},products(){return this.$store.getters.products}}},G=z,F=(0,P.Z)(G,V,M,!1,null,"1535003f",null),U=F.exports,L=function(){var t=this,e=t._self._c;return e(j.Z,[e("section",{staticClass:"product mt-3 elevation-10"},[e(T.Z,{attrs:{wrap:""}},[e(B.Z,{attrs:{xs12:"",lg6:""}},[e(q.Z,{staticClass:"product_img",attrs:{src:t.product.imageSrc}})],1),e(B.Z,{attrs:{xs12:"",lg6:""}},[e("div",{staticClass:"product_info"},[e("h5",{staticClass:"product_title display-1 mb-3 mt-3"},[t._v(t._s(t.product.title))]),e("p",{staticClass:"product_category title"},[e("span",{staticClass:"product_title"},[t._v("Поставщик: ")]),t._v(" "+t._s(t.product.vendor.charAt(0).toUpperCase()+t.product.vendor.substring(1))+" ")]),e("p",{staticClass:"product_price title"},[e("span",{staticClass:"product_title"},[t._v("Цена: ")]),t._v("$ "+t._s(t.product.price)+" ")]),e("p",{staticClass:"product_color title"},[e("span",{staticClass:"product_title"},[t._v("Цвет: ")]),e("span",{staticClass:"product_color__bg",style:{backgroundColor:t.product.color},attrs:{title:t.product.color}})]),e("p",{staticClass:"title"},[e("span",{staticClass:"product_title"},[t._v("Материал: ")]),t._v(t._s(t.product.material.charAt(0).toUpperCase()+t.product.material.substring(1))+" ")]),e("div",{staticClass:"title mb-3"},[e("p",{staticClass:"product_title mb-2"},[t._v("Описание:")]),t._v(t._s(t.product.description)+" ")]),e(c.Z,{attrs:{color:"primary"}},[t._v("Редактировать")]),e(c.Z,{attrs:{color:"primary"}},[t._v("Купить")]),e(c.Z,{attrs:{color:"primary"}},[t._v("Удалить")])],1)])],1)],1)])},X=[],Y={props:["id"],computed:{product(){const t=this.id;return this.$store.getters.productById(t)}}},H=Y,J=(0,P.Z)(H,L,X,!1,null,"fb64d21e",null),K=J.exports,Q=a(266),W=a(3863),tt=a(4061),et=a(5125),at=a(1713),rt=a(7808),lt=function(){var t=this,e=t._self._c;return e(j.Z,[e(at.Z,[e(Q.Z,[e(A.Z,{staticClass:"mb-2 elevation-7"},[e($.EB,[t._v(" Клиенты "),e(b.Z),e(rt.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(b.Z),e(tt.Z,{attrs:{width:"400"},scopedSlots:t._u([{key:"activator",fn:function({attrs:a}){return[e(c.Z,t._b({attrs:{color:"primary",dark:""},on:{click:t.callDialogAddClient}},"v-btn",a,!1),[t._v("Добавить клиента")])]}}]),model:{value:t.dialogAddClient,callback:function(e){t.dialogAddClient=e},expression:"dialogAddClient"}},[e(A.Z,[e($.EB,[e("span",{staticClass:"text-h5"},[t._v("Новый клиент")])]),e($.ZB,[e(j.Z,[e(et.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(rt.Z,{attrs:{label:"Фамилия",rules:t.newClientRules,required:""},model:{value:t.dataNewClient.last_name,callback:function(e){t.$set(t.dataNewClient,"last_name",e)},expression:"dataNewClient.last_name"}}),e(rt.Z,{attrs:{label:"Имя",rules:t.newClientRules,required:""},model:{value:t.dataNewClient.first_name,callback:function(e){t.$set(t.dataNewClient,"first_name",e)},expression:"dataNewClient.first_name"}}),e(rt.Z,{attrs:{label:"Отчество",rules:t.newClientRules,required:""},model:{value:t.dataNewClient.patronymic,callback:function(e){t.$set(t.dataNewClient,"patronymic",e)},expression:"dataNewClient.patronymic"}}),e(rt.Z,{attrs:{label:"Адрес",rules:t.newClientRules,required:""},model:{value:t.dataNewClient.address,callback:function(e){t.$set(t.dataNewClient,"address",e)},expression:"dataNewClient.address"}})],1)],1)],1),e($.h7,[e(b.Z),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialogAddClient}},[t._v("Отмена")]),e(c.Z,{attrs:{color:"blue darken-1",disabled:!t.valid,text:""},on:{click:t.saveNewClient}},[t._v("Сохранить")])],1)],1)],1),e(tt.Z,{attrs:{width:"400"},model:{value:t.dialogEditClient,callback:function(e){t.dialogEditClient=e},expression:"dialogEditClient"}},[e(A.Z,[e($.EB,[e("span",{staticClass:"text-h5"},[t._v("Редактирование клиента")])]),e($.ZB,[e(j.Z,[e(et.Z,{ref:"formEdit",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(rt.Z,{attrs:{rules:t.editClientRules,label:"Фамилия",clearable:""},model:{value:t.editedItem.last_name,callback:function(e){t.$set(t.editedItem,"last_name",e)},expression:"editedItem.last_name"}}),e(rt.Z,{attrs:{rules:t.editClientRules,label:"Имя",clearable:""},model:{value:t.editedItem.first_name,callback:function(e){t.$set(t.editedItem,"first_name",e)},expression:"editedItem.first_name"}}),e(rt.Z,{attrs:{rules:t.editClientRules,label:"Отчество",clearable:""},model:{value:t.editedItem.patronymic,callback:function(e){t.$set(t.editedItem,"patronymic",e)},expression:"editedItem.patronymic"}}),e(rt.Z,{attrs:{rules:t.editClientRules,label:"Адрес",clearable:""},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1)],1)],1),e($.h7,[e(b.Z),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialogEditClient}},[t._v("Отмена")]),e(c.Z,{attrs:{color:"blue darken-1",disabled:!t.valid,text:""},on:{click:t.saveChangeClient}},[t._v("Сохранить")])],1)],1)],1)],1),e(W.Z,{attrs:{headers:t.headers,"items-per-page":5,items:t.clients.data,"multi-sort":"",search:t.search,"sort-desc":!0,"sort-by":"id","footer-props":{"items-per-page-text":"Клиентов на странице:"}},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return[e(u.Z,{attrs:{small:""},on:{click:function(e){return t.callDialogEditClient(a)}}},[t._v("mdi-pencil")])]}}],null,!0)})],1)],1)],1)],1)},st=[],it=a(9669),ot=a.n(it),dt={data(){return{search:"",clients:[],dialogDeleteClient:!1,dialogAddClient:!1,dialogEditClient:!1,dataNewClient:{last_name:"",first_name:"",patronymic:"",address:""},newClientRules:[t=>!!t||"Обязательное поле",t=>t&&t.length<=19||"Не более 20 символов"],editClientRules:[t=>!!t||"Обязательное поле"],valid:!1,headers:[{text:"Номер клиента",value:"id"},{text:"Фамилия",value:"last_name"},{text:"Имя",value:"first_name"},{text:"Отчество",value:"patronymic"},{text:"Адрес",value:"address"},{text:"Действия",value:"actions"}],editedIndex:-1,editedItem:{last_name:"",first_name:"",patronymic:"",address:""}}},methods:{getClients(){ot().get("http://localhost:8000/api/clients").then((t=>{this.clients=t.data}))},callDialogAddClient(){this.dialogAddClient=!0},closeDialogAddClient(){this.dialogAddClient=!1},saveNewClient(){this.$refs.form.validate()&&(ot().post("http://localhost:8000/api/add-client",this.dataNewClient),this.clients.data.push(this.dataNewClient),this.dialogAddClient=!1)},callDialogEditClient(t){this.editedIndex=this.clients.data.indexOf(t),this.editedItem=Object.assign({},t),this.dialogEditClient=!0},closeDialogEditClient(){this.dialogEditClient=!1},saveChangeClient(){this.$refs.formEdit.validate()&&(Object.assign(this.clients.data[this.editedIndex],this.editedItem),ot().post("http://localhost:8000/api/change-client",this.editedItem),this.dialogEditClient=!1)}},mounted(){this.getClients()}},nt=dt,ct=(0,P.Z)(nt,lt,st,!1,null,"54995e96",null),ut=ct.exports,pt=a(7359),mt=a(344),ft=a(5130),ht=function(){var t=this,e=t._self._c;return e(j.Z,[e(at.Z,[e(Q.Z,[e(A.Z,{staticClass:"mb-2 elevation-7"},[e($.EB,[t._v(" Товары "),e(b.Z),e(rt.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(b.Z),e(tt.Z,{attrs:{width:"400"},scopedSlots:t._u([{key:"activator",fn:function({attrs:a}){return[e(c.Z,t._b({attrs:{color:"primary",dark:""},on:{click:t.callDialogAddProduct}},"v-btn",a,!1),[t._v("Добавить товар")])]}}]),model:{value:t.dialogAddProduct,callback:function(e){t.dialogAddProduct=e},expression:"dialogAddProduct"}},[e(A.Z,[e($.EB,[e("span",{staticClass:"text-h5"},[t._v("Новый товар")])]),e($.ZB,[e(j.Z,[e(et.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(rt.Z,{attrs:{rules:t.newProductRules,label:"Название",required:""},model:{value:t.dataNewProduct.title,callback:function(e){t.$set(t.dataNewProduct,"title",e)},expression:"dataNewProduct.title"}}),e(mt.Z,{attrs:{rules:t.newProductRules,label:"Производитель",required:"",items:t.manufacturers.data,"item-text":"title","item-value":"id"},on:{click:t.loadManufacturer},model:{value:t.dataNewProduct.manufacturer,callback:function(e){t.$set(t.dataNewProduct,"manufacturer",e)},expression:"dataNewProduct.manufacturer"}}),e(mt.Z,{attrs:{rules:t.newProductRules,label:"Категория",required:"",items:t.groups.data,"item-text":"title","item-value":"id"},on:{click:t.loadGroups},model:{value:t.dataNewProduct.group,callback:function(e){t.$set(t.dataNewProduct,"group",e)},expression:"dataNewProduct.group"}}),e(rt.Z,{attrs:{rules:t.newProductRules,label:"Описание",required:""},model:{value:t.dataNewProduct.description,callback:function(e){t.$set(t.dataNewProduct,"description",e)},expression:"dataNewProduct.description"}}),e(rt.Z,{attrs:{rules:t.newProductRules,type:"number",min:"0",label:"Количество",required:""},model:{value:t.dataNewProduct.count,callback:function(e){t.$set(t.dataNewProduct,"count",e)},expression:"dataNewProduct.count"}}),e(rt.Z,{attrs:{rules:t.newProductRules,suffix:"Руб",min:"0",type:"number",label:"Цена за шт",required:""},model:{value:t.dataNewProduct.price,callback:function(e){t.$set(t.dataNewProduct,"price",e)},expression:"dataNewProduct.price"}})],1)],1)],1),e($.h7,[e(b.Z),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialogAddProduct}},[t._v("Отмена")]),e(c.Z,{attrs:{color:"blue darken-1",text:"",disabled:!t.valid},on:{click:t.saveNewProduct}},[t._v("Сохранить")])],1)],1)],1),e(tt.Z,{attrs:{width:"650"},model:{value:t.dialogConfirmAdd,callback:function(e){t.dialogConfirmAdd=e},expression:"dialogConfirmAdd"}},[e(A.Z,[e($.EB,{staticClass:"text-h5"},[t._v("Заказ добавлен")]),e($.h7,[e(b.Z),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.dialogConfirmAddClose}},[t._v("Ок")]),e(b.Z)],1)],1)],1),e(tt.Z,{attrs:{width:"400"},model:{value:t.dialogEditProduct,callback:function(e){t.dialogEditProduct=e},expression:"dialogEditProduct"}},[e(A.Z,[e($.EB,[e("span",{staticClass:"text-h5"},[t._v("Редактирование товара")])]),e($.ZB,[e(j.Z,[e(et.Z,{ref:"formEdit",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(rt.Z,{attrs:{rules:t.editProductRules,label:"Модель",clearable:""},model:{value:t.editedItem.title,callback:function(e){t.$set(t.editedItem,"title",e)},expression:"editedItem.title"}}),e(mt.Z,{attrs:{rules:t.editProductRules,label:"Производитель",clearable:"",items:t.manufacturers.data,"item-text":"title","item-value":"id"},on:{click:t.loadManufacturer},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}}),e(mt.Z,{attrs:{rules:t.editProductRules,label:"Категория",clearable:"",items:t.groups.data,"item-text":"title","item-value":"id"},on:{click:t.loadGroups},model:{value:t.editedItem.group,callback:function(e){t.$set(t.editedItem,"group",e)},expression:"editedItem.group"}}),e(rt.Z,{attrs:{rules:t.editProductRules,label:"Количество",clearable:""},model:{value:t.editedItem.count,callback:function(e){t.$set(t.editedItem,"count",e)},expression:"editedItem.count"}}),e(rt.Z,{attrs:{rules:t.editProductRules,label:"Цена",clearable:""},model:{value:t.editedItem.price,callback:function(e){t.$set(t.editedItem,"price",e)},expression:"editedItem.price"}}),e(rt.Z,{attrs:{rules:t.editProductRules,label:"Описание",clearable:""},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1),e($.h7,[e(b.Z),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialogEditProduct}},[t._v("Отмена")]),e(c.Z,{attrs:{color:"blue darken-1",disabled:!t.valid,text:""},on:{click:t.saveChangeProduct}},[t._v("Сохранить")])],1)],1)],1)],1),e(W.Z,{attrs:{headers:t.headers,"items-per-page":5,items:t.products["data"],"multi-sort":"",search:t.search,"sort-desc":!0,"sort-by":"id","footer-props":{"items-per-page-text":"Товаров на странице:"}},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return[e(c.Z,{staticClass:"mr-2",attrs:{small:"",color:"success"},on:{click:function(e){return t.addProductToCart(a)}}},[e(u.Z,{attrs:{small:""}},[t._v("mdi-basket-plus-outline")])],1),e(c.Z,{attrs:{small:""},on:{click:function(e){return t.callDialogEditProduct(a)}}},[e(u.Z,{attrs:{small:""}},[t._v("mdi-pencil")])],1)]}}],null,!0)}),e(at.Z,{attrs:{justify:"center"}},[e(pt.Z,{attrs:{type:"error",width:"350",transition:"scale-transition"},model:{value:t.alertIncludeCart,callback:function(e){t.alertIncludeCart=e},expression:"alertIncludeCart"}},[t._v(" Товар уже есть в корзине "),e(c.Z,{on:{click:function(e){t.alertIncludeCart=!1}}},[t._v("Ок")])],1)],1)],1)],1)],1),e(at.Z,[e(Q.Z,[e(A.Z,{staticClass:"elevation-7"},[e($.EB,[t._v(" Корзина "),e(b.Z),e(rt.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск"},model:{value:t.searchCart,callback:function(e){t.searchCart=e},expression:"searchCart"}}),e(b.Z,{staticClass:"ma-16"})],1),e(W.Z,{attrs:{headers:t.headersCart,"items-per-page":5,items:t.productsCart,"multi-sort":"",search:t.searchCart,"footer-props":{"items-per-page-text":"Товаров на странице:"}},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return[e(u.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteCurrentProductInCurt(a)}}},[t._v("mdi-delete")])]}},{key:"item.count",fn:function(a){return[e(ft.Z,{attrs:{"return-value":a.item.count,large:"","save-text":"Сохранить","cancel-text":"Отмена",type:"number"},on:{"update:returnValue":function(e){return t.$set(a.item,"count",e)},"update:return-value":function(e){return t.$set(a.item,"count",e)},save:function(e){return t.saveEditCount(a)},cancel:t.cancel,open:t.open,close:t.close1},scopedSlots:t._u([{key:"input",fn:function(){return[e(rt.Z,{attrs:{type:"number",label:"Редактирование","single-line":""},model:{value:a.item.count,callback:function(e){t.$set(a.item,"count",e)},expression:"props.item.count"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(a.item.count)+" ")])]}}],null,!0)}),e(at.Z,{attrs:{justify:"center"}},[e(Q.Z,{attrs:{cols:"12",xs:"12",sm:"6",md:"4"}},[e(mt.Z,{attrs:{label:"Поиск клиента",items:t.clients,"item-text":"name","item-value":"id","return-object":""},on:{click:t.loadClientToCart},model:{value:t.selectClient,callback:function(e){t.selectClient=e},expression:"selectClient"}}),e(c.Z,{attrs:{color:"primary"},on:{click:t.toOrder}},[t._v("Заказать")])],1)],1)],1)],1)],1)],1)},vt=[],gt={data(){return{search:"",searchCart:"",products:[],productsCart:[],currentProductId:[],alertIncludeCart:!1,deleteIndex:"",productObject:{},clients:[],orderData:[],selectClient:null,dialogAddProduct:!1,dialogEditProduct:!1,dialogConfirmAdd:!1,headers:[{text:"Номер товара",value:"id"},{text:"Название",value:"title"},{text:"Производитель",value:"manufacturer"},{text:"Категория",value:"group"},{text:"Количество",value:"count"},{text:"Цена за шт",value:"price"},{text:"Описание",value:"description"},{text:"Действия",value:"actions",sortable:!1}],headersCart:[{text:"Номер товара",value:"id"},{text:"Название",value:"title"},{text:"Производитель",value:"manufacturer"},{text:"Категория",value:"group"},{text:"Количество",value:"count"},{text:"Цена",value:"price"},{text:"Действия",value:"actions",sortable:!1}],dataNewProduct:{title:"",manufacturer:"",group:"",count:null,price:null,description:""},editedItem:{title:"",manufacturer:"",group:"",count:null,price:null,description:""},editedIndex:-1,groups:[],manufacturers:[],newProductRules:[t=>!!t||"Обязательное поле"],editProductRules:[t=>!!t||"Обязательное поле"],valid:!1}},methods:{getProducts(){ot().get("http://localhost:8000/api/nomenclature").then((t=>{this.products=t.data}))},addProductToCart:function(t){this.currentProductId.includes(t.id)?this.alertIncludeCart=!0:(this.currentProductId.push(t.id),t.count--,this.productObject=Object.assign({},t),this.productObject.count=1,this.productsCart.push(this.productObject))},callDialogEditProduct(t){this.editedIndex=this.products.data.indexOf(t),this.editedItem=Object.assign({},t),this.dialogEditProduct=!0},closeDialogEditProduct(){this.dialogEditProduct=!1},saveChangeProduct(){this.$refs.formEdit.validate()&&(Object.assign(this.products.data[this.editedIndex],this.editedItem),ot().post("http://localhost:8000/api/change-nomenclature",this.editedItem),this.dialogEditProduct=!1)},loadClientToCart(){ot().get("http://localhost:8000/api/clients-name").then((t=>{this.clients=t.data}))},toOrder(){ot().post("http://localhost:8000/api/add-order",{products:this.productsCart,client:this.selectClient.id}),this.dialogConfirmAdd=!0,this.productsCart=[]},deleteCurrentProductInCurt(t){this.productsCart.splice(this.productsCart.indexOf(t),1),this.currentProductId.splice(this.currentProductId.indexOf(t),1)},callDialogAddProduct(){this.dialogAddProduct=!0},closeDialogAddProduct(){this.dialogAddProduct=!1},saveNewProduct(){this.$refs.form.validate()&&(this.products.data.push(this.dataNewProduct),ot().post("http://localhost:8000/api/add-nomenclature",this.dataNewProduct),this.dialogAddProduct=!1)},loadManufacturer(){ot().get("http://localhost:8000/api/manufacturers").then((t=>{this.manufacturers=t.data}))},loadGroups(){ot().get("http://localhost:8000/api/groups").then((t=>{this.groups=t.data}))},dialogConfirmAddClose(){this.dialogConfirmAdd=!1},saveEditCount(){},cancel(){},open(){},close1(){}},mounted(){this.getProducts()}},bt=gt,Zt=(0,P.Z)(bt,ht,vt,!1,null,"6a5671c0",null),Ct=Zt.exports,xt=function(){var t=this,e=t._self._c;return e(j.Z,[e(at.Z,[e(Q.Z,[e(A.Z,{staticClass:"elevation-7"},[e($.EB,[t._v(" Заказы "),e(b.Z),e(rt.Z,{attrs:{"append-icon":"mdi-magnify",label:"Поиск"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(b.Z)],1),e(tt.Z,{attrs:{width:"650"},model:{value:t.dialogCancelOrder,callback:function(e){t.dialogCancelOrder=e},expression:"dialogCancelOrder"}},[e(A.Z,[e($.EB,{staticClass:"text-h5"},[t._v("Вы уверены что хотите отменить этот заказ?")]),e($.h7,[e(b.Z),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialogCancel}},[t._v("Отменить")]),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.cancelOrderConfirm}},[t._v("Ок")]),e(b.Z)],1)],1)],1),e(tt.Z,{attrs:{width:"400"},model:{value:t.dialogCompetedOrder,callback:function(e){t.dialogCompetedOrder=e},expression:"dialogCompetedOrder"}},[e(A.Z,[e($.EB,{staticClass:"text-h5"},[t._v("Заказ исполнен?")]),e($.h7,[e(b.Z),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialogComleted}},[t._v("Отменить")]),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.completedOrderConfirm}},[t._v("Ок")]),e(b.Z)],1)],1)],1),e(tt.Z,{attrs:{width:"600"},model:{value:t.dialogDetail,callback:function(e){t.dialogDetail=e},expression:"dialogDetail"}},[e(A.Z,[e(W.Z,{attrs:{headers:t.headersDetail,"items-per-page":10,items:t.currentProducts["product"],"footer-props":{"items-per-page-text":"Товаров на странице:"}},scopedSlots:t._u([{key:"item.count",fn:function(a){return[e(ft.Z,{attrs:{"return-value":a.item.count,large:"","save-text":"Сохранить","cancel-text":"Отмена"},on:{"update:returnValue":function(e){return t.$set(a.item,"count",e)},"update:return-value":function(e){return t.$set(a.item,"count",e)},save:function(e){return t.save(a)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e(rt.Z,{attrs:{type:"number",label:"Редактирование","single-line":"",counter:""},model:{value:a.item.count,callback:function(e){t.$set(a.item,"count",e)},expression:"props.item.count"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(a.item.count)+" ")])]}},{key:"item.actions",fn:function({item:a}){return[e(u.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteCurrentProduct(a)}}},[t._v("mdi-delete")])]}}],null,!0)}),e($.h7,[e(b.Z),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDetail}},[t._v("Добавить товар")]),e(c.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDetail}},[t._v("Отмена")])],1)],1)],1),e(W.Z,{attrs:{headers:t.headers,items:t.orders["data"],"items-per-page":5,"multi-sort":"",search:t.search,"sort-desc":!0,"sort-by":"id","footer-props":{"items-per-page-text":"Заказов на странице:"}},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return[e(u.Z,{staticClass:"mr-2",attrs:{small:"",color:"success"},on:{click:function(e){return t.callDialogCompletedOrder(a)}}},[t._v("mdi-check-bold")]),e(u.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.loadCurrentProducts(a)}}},[t._v("mdi-eye")]),e(u.Z,{attrs:{small:""},on:{click:function(e){return t.callDialogCancelOrder(a)}}},[t._v("mdi-delete")])]}}],null,!0)})],1)],1)],1)],1)},_t=[],kt={data(){return{search:"",dialogCancelOrder:!1,dialogDetail:!1,dialogCompetedOrder:!1,currentProducts:{},orders:{},clients:[],headers:[{text:"Номер заказа",value:"id"},{text:"Дата заказа",value:"date_time"},{text:"Клиент",value:"name_client"},{text:"Адрес клиента",value:"client_address"},{text:"Статус",value:"status"},{text:"Действия",value:"actions",sortable:!1}],headersDetail:[{text:"Название товара",value:"title"},{text:"Производитель",value:"manufacturer"},{text:"Количество",value:"count"},{text:"Цена",value:"price"},{text:"Действия",value:"actions",sortable:!1}],itemIndex:-1,itemId:-1,orderId:-1,editedItem:{title:"",manufacturer:"",count:"",price:""}}},methods:{getNewOrders(){ot().get("http://localhost:8000/api/orders").then((t=>{this.orders=t.data}))},loadCurrentProducts(t){ot().post("http://localhost:8000/api/current-product",{pk:t.id}).then((e=>{this.currentProducts=e.data,this.orderId=t.id})),this.dialogDetail=!0},callDialogCancelOrder(t){this.itemId=t.id,this.itemIndex=this.orders.data.indexOf(t),this.dialogCancelOrder=!0},callDialogCompletedOrder(t){this.itemId=t.id,this.itemIndex=this.orders.data.indexOf(t),this.dialogCompetedOrder=!0},deleteCurrentProduct(t){ot().post("http://localhost:8000/api/delete-current-product",{id_product:t.id,id_order:this.orderId}),this.itemIndex=this.currentProducts.product.indexOf(t),this.currentProducts.product.splice(this.editedIndex,1)},cancelOrderConfirm(){ot().post("http://localhost:8000/api/cancel-order",{id:this.itemId,status:"Отменён"}),this.orders.data.splice(this.itemIndex,1),this.dialogCancelOrder=!1},completedOrderConfirm(){ot().post("http://localhost:8000/api/completed-order",{id:this.itemId,status:"Выполнен"}),this.orders.data.splice(this.itemIndex,1),this.dialogCompetedOrder=!1},closeDetail(){this.dialogDetail=!1},closeDialogCancel(){this.dialogCancelOrder=!1},closeDialogComleted(){this.dialogCompetedOrder=!1},save(t){ot().post("http://localhost:8000/api/change-count-product-order",{id:t.item.id,count:t.item.count})},cancel(){},open(){},close(){}},mounted(){this.getNewOrders()}},Pt=kt,wt=(0,P.Z)(Pt,xt,_t,!1,null,"4efabd05",null),yt=wt.exports,It=a(120),Ot=function(){var t=this,e=t._self._c;return e(j.Z,{staticStyle:{height:"90vh"}},[e(at.Z,{staticClass:"fill-height",attrs:{justify:"center",align:"center"}},[e(Q.Z,{staticClass:"rounded-lg elevation-24",attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[e(et.Z,{ref:"form",staticClass:"ma-9",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(rt.Z,{attrs:{name:"login",rules:t.loginRules,placeholder:"Имя пользователя","prepend-icon":"mdi-account",maxlength:"20",required:""},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),e(rt.Z,{attrs:{name:"password",rules:t.passRules,placeholder:"Пароль","prepend-icon":"mdi-lock","append-icon":t.passVisible?"mdi-eye":"mdi-eye-off",type:t.passVisible?"password":"text",required:""},on:{"click:append":()=>t.passVisible=!t.passVisible},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(It.Z,{attrs:{label:"Сохранить пароль?"},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}}),e(c.Z,{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"success"},on:{click:t.onSubmit}},[t._v(" Войти ")])],1)],1)],1)],1)},Nt=[],Et={data(){return{valid:!1,login:"",loginRules:[t=>!!t||"Обязательное поле",t=>t&&t.length<=19||"Не более 20 символов"],password:"",passRules:[t=>!!t||"Обязательное поле"],checkbox:!1,passVisible:!0}},methods:{onSubmit(){if(this.$refs.form.validate()){const t={login:this.login,password:this.password};console.log(t)}}}},Dt=Et,At=(0,P.Z)(Dt,Ot,Nt,!1,null,"9b836db4",null),$t=At.exports,St=function(){var t=this,e=t._self._c;return e(j.Z,{staticStyle:{height:"90vh"}},[e(at.Z,{staticClass:"fill-height",attrs:{justify:"center",align:"center"}},[e(Q.Z,{staticClass:"rounded-lg elevation-24",attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[e("h1",[t._v("ЗДЕСЬ БУДУТ ОТЧЁТЫ!!!!")])])],1)],1)},Rt=[],jt={data:function(){return{}},methods:{}},Bt=jt,qt=(0,P.Z)(Bt,St,Rt,!1,null,"b06f98c8",null),Tt=qt.exports;r.ZP.use(D.ZP);var Vt=new D.ZP({routes:[{path:"",name:"home",component:U},{path:"/product/:id",props:!0,name:"product",component:K},{path:"/products",name:"products",component:Ct},{path:"/clients",name:"clients",component:ut},{path:"/orders",name:"orders",component:yt},{path:"/login",name:"login",component:$t},{path:"/reports",name:"reports",component:Tt}]}),Mt=a(629),zt={state:{products:[{id:"1",title:"Lenovo Legion Y250",vendor:"Lenovo",color:"black",material:"metal/plasctic",description:"Inter fsdfdsfdsfsdfsdfsdfsdfsdfsd sdfsdf sd sdfsdf sfsdf s fsdfs",price:784,promo:!1,imageSrc:"https://trudogolik24.ru/pic/tov/bc/20200702205848157.jpg"},{id:"2",title:"Asus FX503VD",vendor:"Asus",color:"white",material:"plasctic",description:"Inter fsdfdsfdsfsdfsdfsdfsdfsdfsd sdfsdf sd sdfsdf sfsdf s fsdfs",price:9700,promo:!0,imageSrc:"https://pc-arena.ru/upload/iblock/90b/90bc58529eb99a680e5b136f87fc2bca.jpg"},{id:"3",title:"ASUS TIF Gaming FX504GD",vendor:"ASUS",color:"black",material:"metal/plasctic",description:"Inter fsdfdsfdsfsdfsdfsdfsdfsdfsd sdfsdf sd sdfsdf sfsdf s fsdfs",price:1220,promo:!0,imageSrc:"https://skl-trade.ru/d/89364.jpg"}]},getters:{products(t){return t.products},promoProducts(t){return t.products.filter((t=>t.promo))},myProducts(t){return t.products},productById(t){return e=>t.products.find((t=>t.id===e))}},mutations:{},actions:{}};r.ZP.use(Mt.ZP);var Gt=new Mt.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{products:zt}}),Ft=a(1705);r.ZP.use(Ft.Z);var Ut=new Ft.Z({});r.ZP.config.productionTip=!1,new r.ZP({router:Vt,store:Gt,vuetify:Ut,render:t=>t(E)}).$mount("#app")}},e={};function a(r){var l=e[r];if(void 0!==l)return l.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,r,l,s){if(!r){var i=1/0;for(c=0;c<t.length;c++){r=t[c][0],l=t[c][1],s=t[c][2];for(var o=!0,d=0;d<r.length;d++)(!1&s||i>=s)&&Object.keys(a.O).every((function(t){return a.O[t](r[d])}))?r.splice(d--,1):(o=!1,s<i&&(i=s));if(o){t.splice(c--,1);var n=l();void 0!==n&&(e=n)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[r,l,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var l,s,i=r[0],o=r[1],d=r[2],n=0;if(i.some((function(e){return 0!==t[e]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(d)var c=d(a)}for(e&&e(r);n<i.length;n++)s=i[n],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(c)},r=self["webpackChunkonlinestore"]=self["webpackChunkonlinestore"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1474)}));r=a.O(r)})();
//# sourceMappingURL=app.6c7b89a2.js.map